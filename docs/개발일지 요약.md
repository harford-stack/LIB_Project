# 3LineMarker 개발일지

## 프로젝트 개요
- **프로젝트명**: 3LineMarker
- **주제**: React 활용 SNS 사이트 구현
- **개발 기간**: 2025년 11월 25일 ~ 12월 02일 (8일)
- **프로젝트 유형**: 개인 프로젝트

---

## 📅 개발 일정

### Day 1 (11월 25일) - 프로젝트 초기 설정 및 기본 구조
**목표**: 프로젝트 환경 구축 및 기본 인증 시스템 구현

**완료 작업**:
- React 프로젝트 초기화 (Create React App)
- Node.js/Express 백엔드 서버 구축
- MySQL 데이터베이스 설계 및 테이블 생성
- 사용자 인증 시스템 구현 (회원가입, 로그인)
- JWT 토큰 기반 인증 미들웨어 구현
- Redux Toolkit을 활용한 전역 상태 관리 설정
- React Router를 통한 페이지 라우팅 설정

**기술 스택 선정**:
- Frontend: React 19, Material-UI, Redux Toolkit, React Router
- Backend: Node.js, Express, MySQL, JWT, bcrypt

**주요 이슈 및 해결**:
- CORS 설정 문제 → dotenv를 통한 환경 변수 관리로 해결
- JWT 토큰 만료 처리 → localStorage와 Redux 연동으로 해결

---

### Day 2 (11월 26일) - 지도 기반 마커 시스템 구현
**목표**: Leaflet 지도를 활용한 마커 CRUD 기능 구현

**완료 작업**:
- Leaflet 지도 라이브러리 통합
- 지도 페이지 UI 구현 (레트로 테마 적용)
- 마커 생성 기능 (지도 클릭으로 마커 추가)
- 마커 목록 조회 및 표시
- 마커 상세 정보 패널 구현
- 마커 수정 및 삭제 기능
- 이미지 업로드 기능 (Multer 활용)
- 카테고리별 마커 필터링 기능

**주요 기능**:
- 지도 클릭 시 마커 생성 모달
- 3줄 텍스트 입력 (line1, line2, line3)
- 카테고리 선택 (음식점, 카페, 관광지, 쇼핑, 기타)
- 이미지 업로드 및 미리보기
- 마커 클러스터링 (react-leaflet-cluster)

**주요 이슈 및 해결**:
- 마커 이미지 경로 문제 → 상대 경로를 절대 경로로 변환하여 해결
- 마커 클러스터 스타일링 → 커스텀 아이콘 및 스타일 적용

---

### Day 3 (11월 27일) - 소셜 기능 구현 (좋아요, 댓글, 북마크)
**목표**: 사용자 간 상호작용 기능 구현

**완료 작업**:
- 좋아요 기능 구현 (좋아요/좋아요 취소, 좋아요 수 표시)
- 댓글 기능 구현 (댓글 작성, 조회, 삭제, 페이지네이션)
- 북마크 기능 구현 (북마크 추가/제거, 북마크 목록 페이지)
- 실시간 좋아요 수 업데이트
- 댓글 작성자 프로필 이미지 표시

**주요 기능**:
- Optimistic UI 업데이트 (즉시 반영 후 서버 응답 대기)
- 댓글 무한 스크롤
- 북마크 페이지 그리드 레이아웃

**주요 이슈 및 해결**:
- 좋아요 중복 클릭 방지 → 로딩 상태 관리로 해결
- 댓글 실시간 업데이트 → 페이지 새로고침 대신 상태 업데이트로 해결

---

### Day 4 (11월 28일) - 사용자 프로필 및 팔로우 시스템
**목표**: 사용자 프로필 관리 및 팔로우 기능 구현

**완료 작업**:
- 내 프로필 페이지 구현
- 다른 사용자 프로필 페이지 구현
- 프로필 수정 기능 (닉네임, 상태 메시지, 프로필 이미지)
- 팔로우/언팔로우 기능
- 팔로워/팔로잉 목록 모달
- 사용자별 마커 목록 표시
- 프로필 통계 (마커 수, 팔로워 수, 팔로잉 수)

**주요 기능**:
- 프로필 이미지 업로드 및 미리보기
- 팔로워/팔로잉 목록 무한 스크롤
- 사용자 마커 그리드 레이아웃 (4열)

**주요 이슈 및 해결**:
- 프로필 이미지 크기 최적화 → Multer 설정으로 해결
- 팔로우 상태 실시간 업데이트 → Redux 상태 관리로 해결

---

### Day 5 (11월 29일) - 피드 및 검색 기능 구현
**목표**: 콘텐츠 탐색 및 검색 기능 구현

**완료 작업**:
- 피드 페이지 구현 (팔로잉 피드, 탐색 피드)
- 피드 정렬 기능 (최신순, 인기순)
- 검색 기능 구현 (마커 검색, 사용자 검색)
- 지도 페이지 검색 기능
- 무한 스크롤 구현 (Intersection Observer 활용)
- 인기 마커 조회 기능
- 주변 마커 조회 기능

**주요 기능**:
- 탭 전환 (팔로잉 / 탐색)
- 정렬 옵션 (NEW / HOT)
- 검색 결과 하이라이트
- 검색 자동완성 (디바운싱 적용)

**주요 이슈 및 해결**:
- 무한 스크롤 성능 최적화 → useCallback 및 useMemo 활용
- 검색 성능 개선 → 디바운싱 및 서버 사이드 필터링

---

### Day 6 (11월 30일) - 실시간 채팅 시스템 구현
**목표**: WebSocket을 활용한 실시간 채팅 기능 구현

**완료 작업**:
- Socket.io 서버 설정
- Socket.io 클라이언트 통합
- 일대일 채팅 기능 구현
- 채팅방 목록 조회
- 실시간 메시지 전송 및 수신
- 메시지 읽음 처리
- 채팅 알림 시스템
- 채팅방 나가기 기능

**주요 기능**:
- 실시간 메시지 동기화
- Optimistic UI 업데이트
- 채팅 알림 배지 표시
- 사용자 프로필에서 채팅 시작

**주요 이슈 및 해결**:
- WebSocket 연결 안정성 → 재연결 로직 구현
- 메시지 정렬 문제 → 시간순 정렬 및 스크롤 자동 이동
- 채팅방 생성 중복 → 서버 사이드 중복 체크로 해결

---

### Day 7 (12월 1일) - 알림 시스템 및 UI/UX 개선
**목표**: 알림 시스템 구현 및 사용자 경험 개선

**완료 작업**:
- 알림 시스템 구현 (좋아요, 댓글, 팔로우, 채팅 알림)
- 알림 목록 조회 및 표시
- 알림 읽음 처리
- 알림 배지 표시 (헤더)
- 레트로 테마 UI 개선
- 지도 페이지 위젯 추가 (시계, 날씨, 나침반, 레이더)
- 반응형 디자인 개선
- 로딩 상태 및 에러 처리 개선

**주요 기능**:
- 실시간 알림 업데이트 (30초 간격 폴링)
- 알림 타입별 아이콘 및 메시지
- 날씨 API 연동 (OpenWeatherMap)
- 나침반 위젯 (지도 방향 표시)
- 레이더 위젯 (주변 마커 표시)

**주요 이슈 및 해결**:
- 날씨 API 키 관리 → .env 파일 활용
- 알림 타입 확장 → ENUM 타입 수정 (마이그레이션)
- 위젯 성능 최적화 → useMemo 및 useCallback 활용

---

### Day 8 (12월 2일) - 코드 리팩토링 및 최종 마무리
**목표**: 코드 품질 개선 및 문서화

**완료 작업**:
- 전체 코드 리팩토링
- ESLint 경고 수정
- React Hook 의존성 배열 최적화
- 코드 주석 추가 (초등학생도 이해할 수 있도록)
- README 작성
- 개발일지 작성
- 포트폴리오 요약본 작성

**주요 개선 사항**:
- useCallback 및 useMemo를 통한 성능 최적화
- 불필요한 리렌더링 방지
- 코드 가독성 향상
- 에러 처리 강화

**주요 이슈 및 해결**:
- 무한 루프 문제 → useCallback 의존성 배열 최적화로 해결
- 메모리 누수 방지 → useEffect cleanup 함수 추가

---

## 🛠 기술 스택

### Frontend
- **React 19.2.0**: UI 라이브러리
- **Material-UI 7.3.5**: UI 컴포넌트 라이브러리
- **Redux Toolkit 2.11.0**: 전역 상태 관리
- **React Router 7.9.6**: 페이지 라우팅
- **Leaflet 1.9.4**: 지도 라이브러리
- **React-Leaflet 5.0.0**: React용 Leaflet 래퍼
- **Socket.io-client 4.8.1**: WebSocket 클라이언트

### Backend
- **Node.js**: 서버 런타임
- **Express 5.1.0**: 웹 프레임워크
- **MySQL 3.15.3**: 데이터베이스
- **Socket.io 4.8.1**: WebSocket 서버
- **JWT 9.0.2**: 인증 토큰
- **bcrypt 6.0.0**: 비밀번호 해싱
- **Multer 2.0.2**: 파일 업로드
- **Axios 1.13.2**: HTTP 클라이언트

---

## 📊 주요 기능

### 1. 사용자 인증
- 회원가입 (아이디 중복 체크)
- 로그인/로그아웃
- 아이디/비밀번호 찾기
- JWT 토큰 기반 인증

### 2. 지도 기반 마커 시스템
- 지도 클릭으로 마커 생성
- 마커 CRUD (생성, 조회, 수정, 삭제)
- 카테고리별 필터링
- 마커 클러스터링
- 이미지 업로드

### 3. 소셜 기능
- 좋아요/좋아요 취소
- 댓글 작성/삭제
- 북마크 추가/제거
- 팔로우/언팔로우

### 4. 프로필 관리
- 프로필 조회 (내 프로필, 다른 사용자 프로필)
- 프로필 수정 (닉네임, 상태 메시지, 프로필 이미지)
- 팔로워/팔로잉 목록
- 사용자별 마커 목록

### 5. 피드 및 검색
- 팔로잉 피드
- 탐색 피드 (최신순, 인기순)
- 마커 검색
- 사용자 검색
- 무한 스크롤

### 6. 실시간 채팅
- 일대일 채팅
- 실시간 메시지 전송/수신
- 채팅방 목록
- 메시지 읽음 처리
- 채팅 알림

### 7. 알림 시스템
- 좋아요 알림
- 댓글 알림
- 팔로우 알림
- 채팅 알림
- 알림 배지 표시

### 8. 지도 위젯
- 시계 위젯
- 날씨 위젯 (OpenWeatherMap API)
- 나침반 위젯
- 레이더 위젯 (주변 마커 표시)

---

## 🎨 UI/UX 특징

### 레트로 테마
- 네온 색상 (녹색, 청록색, 마젠타)
- 픽셀 폰트 (Press Start 2P, VT323, DungGeunMo)
- 레트로 다이얼로그
- 별 배경 애니메이션

### 반응형 디자인
- 모바일, 태블릿, 데스크톱 지원
- CSS Grid 및 Flexbox 활용
- Material-UI 반응형 컴포넌트

---

## 📈 성능 최적화

1. **React 최적화**
   - useCallback 및 useMemo 활용
   - 불필요한 리렌더링 방지
   - 코드 스플리팅 고려

2. **데이터베이스 최적화**
   - 인덱스 활용
   - 페이지네이션
   - 서버 사이드 필터링

3. **네트워크 최적화**
   - 이미지 최적화
   - API 요청 최소화
   - 디바운싱 적용

---

## 🔒 보안

- JWT 토큰 기반 인증
- bcrypt를 통한 비밀번호 해싱
- CORS 설정
- 환경 변수 관리 (.env)
- SQL Injection 방지 (Prepared Statements)

---

## 🐛 주요 이슈 및 해결

1. **마커 이미지 경로 문제**
   - 문제: 상대 경로로 인한 이미지 로딩 실패
   - 해결: 절대 경로 변환 및 API_BASE_URL 활용

2. **무한 스크롤 성능 문제**
   - 문제: 과도한 리렌더링
   - 해결: useCallback 및 useMemo 활용

3. **WebSocket 연결 안정성**
   - 문제: 연결 끊김 시 메시지 전송 실패
   - 해결: 재연결 로직 및 에러 처리 추가

4. **React Hook 의존성 배열 문제**
   - 문제: 무한 루프 및 경고 발생
   - 해결: useRef를 활용한 최신 값 참조

---

## 📝 향후 개선 사항

1. **기능 추가**
   - 그룹 채팅 기능
   - 마커 공유 기능
   - 다국어 지원
   - 다크 모드/라이트 모드 전환

2. **성능 개선**
   - 이미지 압축 및 최적화
   - 서버 사이드 렌더링 (SSR) 고려
   - CDN 활용

3. **테스트**
   - 단위 테스트 작성
   - 통합 테스트 작성
   - E2E 테스트 작성

4. **배포**
   - AWS/Heroku 배포
   - CI/CD 파이프라인 구축
   - 모니터링 시스템 구축

---

## 💡 배운 점

1. **React Hooks 활용**
   - useCallback, useMemo, useRef의 적절한 활용
   - 의존성 배열 관리의 중요성

2. **상태 관리**
   - Redux Toolkit을 통한 전역 상태 관리
   - 로컬 상태와 전역 상태의 구분

3. **실시간 통신**
   - WebSocket을 활용한 실시간 기능 구현
   - Socket.io의 이벤트 기반 아키텍처 이해

4. **성능 최적화**
   - 불필요한 리렌더링 방지
   - 메모이제이션 전략

5. **코드 품질**
   - ESLint를 통한 코드 품질 관리
   - 주석을 통한 코드 문서화

---

## 🎯 프로젝트 성과

- **완성도**: 핵심 기능 100% 구현
- **코드 품질**: ESLint 경고 0개
- **사용자 경험**: 직관적인 UI/UX
- **성능**: 최적화된 렌더링 및 네트워크 요청

---

## 📚 참고 자료

- [React 공식 문서](https://react.dev/)
- [Material-UI 공식 문서](https://mui.com/)
- [Leaflet 공식 문서](https://leafletjs.com/)
- [Socket.io 공식 문서](https://socket.io/)
- [Redux Toolkit 공식 문서](https://redux-toolkit.js.org/)

---

**작성일**: 2025년 12월 2일  
**작성자**: [작성자명]

